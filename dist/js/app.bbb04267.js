(function(e){function t(t){for(var i,n,c=t[0],r=t[1],l=t[2],u=0,d=[];u<c.length;u++)n=c[u],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&d.push(a[n][0]),a[n]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);_&&_(t);while(d.length)d.shift()();return o.push.apply(o,l||[]),s()}function s(){for(var e,t=0;t<o.length;t++){for(var s=o[t],i=!0,c=1;c<s.length;c++){var r=s[c];0!==a[r]&&(i=!1)}i&&(o.splice(t--,1),e=n(n.s=s[0]))}return e}var i={},a={app:0},o=[];function n(t){if(i[t])return i[t].exports;var s=i[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=i,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(s,i,function(t){return e[t]}.bind(null,i));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var _=r;o.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"0219":function(e,t,s){},"034f":function(e,t,s){"use strict";s("85ec")},1:function(e,t){},"199c":function(module,__webpack_exports__,__webpack_require__){"use strict";var C_Users_JAIR_HERNANDEZ_Documents_GitHub_Tekiio_Interno_KioskoFix_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("5530"),core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("fb6a"),core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("ac1f"),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("53194"),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("e9c4"),core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_4__),vuex__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("2f62"),_router__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("a18c"),axios__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("cee4");__webpack_exports__["a"]={computed:Object(C_Users_JAIR_HERNANDEZ_Documents_GitHub_Tekiio_Interno_KioskoFix_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__["a"])({},Object(vuex__WEBPACK_IMPORTED_MODULE_5__["d"])(["messageTicket","isLoading","configSite","allConfigs","startTimeLoading"])),created:function(){},mounted:function(){this.setLoading(!0);var e=new Date;this.setStartTimeLoading(e),this.getConfigData()},methods:Object(C_Users_JAIR_HERNANDEZ_Documents_GitHub_Tekiio_Interno_KioskoFix_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__["a"])(Object(C_Users_JAIR_HERNANDEZ_Documents_GitHub_Tekiio_Interno_KioskoFix_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__["a"])({getConfigData:function getConfigData(){try{var self=this;console.debug(".",self);var str="var httpsMode = null\n        require(['N/https'], function (httpsMode) {\n          setTimeout(() => {\n            var url = httpsMode.requestSuitelet({\n              scriptId: 'customscript_efx_kiosko_service_config',\n              deploymentId: 'customdeploy_efx_kiosko_service_config',\n              external: true,\n              urlParams: { custparam_mode: 'configurationData' }\n            })\n            self.assignConfigResult(url.body)\n          }, 200)\n        })";eval(str)}catch(e){this.setStatusRequestTicket(!1),this.setMessageTicket("Ha ocurrido un error en realizar la petición para traer la configuración inicial de la empresa"),console.error(e)}},errorOccurred:function(e){try{console.log("errorOccurred: ",e),this.setStatusRequestTicket(!1),this.setMessageTicket("Ha ocurrido un error en realizar la petición para traer la configuración inicial de la empresa")}catch(t){console.log("Entro en catch de funcion errorOccurred",t)}},getConfigAxios:function(e){var t=this,s={method:"GET",url:e,headers:{"Content-Type":"application/json"}};axios__WEBPACK_IMPORTED_MODULE_7__["a"].request(s).then((function(e){console.log("axios.request ~ response",e.data),t.assignConfigResult(e)})).catch((function(e){console.error("Error on request",e),t.setStatusRequestTicket(!1),t.setMessageTicket("Ha ocurrido un error en realizar la petición para traer la configuración inicial de la empresa")}))},assignConfigResult:function(e){console.log("📍 ~ assignConfigResult ~ response",e);var t=null;if("string"==typeof e){var s=1*e.indexOf("\x3c!--"),i=1*e.lastIndexOf("--\x3e");if(s&&i){i+=3;var a=e.slice(s,i);t=e.replace(a,"")}else t=e;null!=t&&(t=JSON.parse(t))}else t=e;if(!0===t.success){if(this.setLoading(!1),this.setAllConfigs(t.result),1===this.allConfigs.length){this.setConfigSite(t.result[0]);var o=this.allConfigs[0].id;this.setConfigParamSearch(o),this.setStatusRequestTicket(!0),this.setMessageTicket("Obtuvo la información de la empresa con éxito"),_router__WEBPACK_IMPORTED_MODULE_6__["a"].push({name:"Pasos",params:{id:1}})}}else this.showError(),this.setStatusRequestTicket(!1),this.setMessageTicket(t.details)},showError:function(){!0===this.isLoading&&this.setLoading(!1),this.showTheError=!0;var e=new Date,t=e-this.startTimeLoading;this.sendTime(t,e)},sendTime:function sendTime(time,date){try{var objSendTime={custrecord_loading_url:window.location.href,custrecord_loading_date:date,custrecord_loading_time:time,custrecord_loading_step:"Precarga de información de compañía",custrecord_loading_status:this.statusRequestTicket,custrecord_loading_message:this.messageTicket},strObjSendTime=JSON.stringify(objSendTime),self=this;console.log("sendTime -self:",self);var str="\n        var httpsMode=null;\n        require(['N/https'],function(httpsMode){\n          var url=httpsMode.requestSuitelet({\n                        scriptId:'customscript_efx_fe_kioskopageload_sl',\n                        deploymentId:\"customdeploy_efx_fe_kioskopageload_sl\",\n                        external:true,\n                        urlParams:{sendTime:'".concat(strObjSendTime,'\'}\n                    });\n                    console.log("RESP time: ", url.body);\n                });\n            ');eval(str)}catch(err){console.log("An error occurred on SendTime() in Ticket")}},getSendTimeResponse:function(e){var t={method:"GET",url:e,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,OPTIONS","Access-Control-Allow-Headers":"authorization"}};axios__WEBPACK_IMPORTED_MODULE_7__["a"].request(t).then((function(e){console.log("RESP time: ",e.data)})).catch((function(e){console.log("Hubo errores en getSendTimeResponse app: ",e)}))},goHome:function(){var e=document.getElementById("maincss");e&&(e.href=""),this.setClientData({}),this.setEmails([]),this.setStep(0),this.clearFieldsValue(),this.clearTicketSearch(),this.clearParamsStamp(),this.allConfigs.length>1&&this.setConfigSite({}),_router__WEBPACK_IMPORTED_MODULE_6__["a"].push({path:"/"})},reloadSite:function(){window.location.reload()}},Object(vuex__WEBPACK_IMPORTED_MODULE_5__["c"])(["setMessageTicket","setStatusRequestTicket","setStartTimeLoading","setLoading","setConfigSite","setAllConfigs","setConfigParamSearch","setClientData","setEmails","setStep"])),Object(vuex__WEBPACK_IMPORTED_MODULE_5__["b"])(["clearTicketSearch","clearParamsStamp","clearFieldsValue"])),data:function(){return{showTheError:!1,actuallyYear:(new Date).getFullYear()}}}},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var i=s("2b0e"),a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("b-loading",{attrs:{"is-full-page":!0,"can-cancel":!1},model:{value:e.isLoading,callback:function(t){e.isLoading=t},expression:"isLoading"}},[s("b-field",[s("b-tag",{attrs:{size:"is-large",rounded:""}},[e._v("¡Gracias por tu paciencia! Esto puede tardar unos segundos")])],1)],1),s("b-modal",{attrs:{"can-cancel":!1},model:{value:e.showTheError,callback:function(t){e.showTheError=t},expression:"showTheError"}},[s("div",{staticClass:"card"},[s("section",{staticClass:"modal-card-body"},[s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-three-fifths is-offset-one-fifth"},[s("h3",{staticClass:"subtitle is-5"},[e._v(" Ha ocurrido un error al cargar la configuración, por favor recarga el sitio. "),s("br"),e._v(" Si el error persiste contacte al administrador. ")])])]),s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-three-fifths is-offset-one-fifth"},[s("b-button",{attrs:{type:"is-secondary",expanded:"",label:"Recargar Sitio","icon-pack":"fas","icon-right":"redo"},on:{click:e.reloadSite}})],1)])])])]),s("b-navbar",{attrs:{type:"is-custom","mobile-burger":!1,shadow:!0,centered:!0,"fixed-top":!0}},[s("template",{slot:"brand"},[e.allConfigs.length>1&&"Inicio"!==this.$route.name?s("b-navbar-item",{on:{click:e.goHome}},[s("b-button",{attrs:{"icon-right":"home","icon-pack":"fas"}})],1):e._e(),s("b-navbar-item",[e.configSite.logo?s("img",{attrs:{src:e.configSite.logo,alt:"logo"}}):e._e()])],1)],2),s("div",{directives:[{name:"show",rawName:"v-show",value:!1===e.isLoading,expression:"isLoading === false"}],staticClass:"container"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-content"},[s("router-view")],1)])]),s("footer",{staticClass:"footer"},[s("div",{staticClass:"content has-text-centered"},[s("p",[e._v(" Copyright © "+e._s(e.actuallyYear)+" "),e._m(0),e._v(". ")])])])],1)},o=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("strong",[s("a",{staticClass:"has-text-info",attrs:{href:"https://www.tekiio.com/es/inicio",target:"_blank"}},[e._v("Tekiio")])])}],n=s("199c"),c=n["a"],r=(s("034f"),s("2877")),l=Object(r["a"])(c,a,o,!1,null,null,null),_=l.exports,u=s("a18c"),d=(s("b0c0"),s("b64b"),s("2f62"));i["a"].use(d["a"]);var p=new d["a"].Store({state:{isLoading:!1,action:!0,step:0,startTimeLoading:0,startTimeLoadingClient:0,startTimeLoadingResume:0,startTimeLoadingStamp:0,statusRequestTicket:!0,statusRequestClient:!0,statusRequestResume:!0,statusRequestStamp:!0,messageTicket:"",messageClient:"",messageResume:"Resumen desplegado con éxito",messageStamp:"",ticketId:"",ticketDate:"",ticketCantidad:"",ticketRfc:"",allConfigs:[],configSite:{},ticketSearch:{custparam_getinfo:"T",custparam_accion:"T",custparam_config:""},paramsStamp:{custparam_genera:"T"},countries:{},billingInformation:{},clientData:{},emailSelecteds:[]},mutations:{setTicketId:function(e,t){e.ticketId=t},setTicketDate:function(e,t){e.ticketDate=t},setTicketCantidad:function(e,t){e.ticketCantidad=t},setTicketRfc:function(e,t){e.ticketRfc=t},setMessageTicket:function(e,t){e.messageTicket=t},setMessageClient:function(e,t){e.messageClient=t},setMessageResume:function(e,t){e.messageResume=t},setMessageStamp:function(e,t){e.messageStamp=t},setStatusRequestTicket:function(e,t){e.statusRequestTicket=t},setStatusRequestClient:function(e,t){e.statusRequestClient=t},setStatusRequestResume:function(e,t){e.statusRequestResume=t},setStatusRequestStamp:function(e,t){e.statusRequestStamp=t},setStartTimeLoading:function(e,t){e.startTimeLoading=t},setStartTimeLoadingClient:function(e,t){e.startTimeLoadingClient=t},setStartTimeLoadingResume:function(e,t){e.startTimeLoadingResume=t},setStartTimeLoadingStamp:function(e,t){e.startTimeLoadingStamp=t},setLoading:function(e,t){e.isLoading=t},setAction:function(e,t){e.action=t},setStep:function(e,t){e.step=t},setAllConfigs:function(e,t){console.log("AllConfigs suite",t),e.allConfigs=t},setConfigSite:function(e,t){console.log("config suite",t),e.configSite=t},setTicketSearch:function(e,t){e.ticketSearch=t},setAllCountries:function(e,t){e.countries=t},setBillingInformation:function(e,t){e.billingInformation=t},setClientData:function(e,t){e.clientData=t},setClientData_regimenFiscal_value:function(e,t){e.clientData.cliente.regFiscal.value=t},setClientData_regimenFiscal_text:function(e,t){e.clientData.cliente.regFiscal.text=t},setAddContact:function(e,t){e.clientData.contactos.push(t)},setEmails:function(e,t){e.emailSelecteds=t},addFilterSearch:function(e,t){t.type,e.ticketSearch[t.name]=""},setFilterAction:function(e,t){e.ticketSearch.custparam_accion=t},setConfigParamSearch:function(e,t){e.ticketSearch.custparam_config=t},setTypePerson:function(e,t){e.clientData.cliente.tipo=t}},actions:{setMyActions:function(e,t){var s=e.commit;s("setAction",t)},setEmailsSelecteds:function(e,t){var s=e.commit;s("setEmails",t)},setEmailSelected:function(){for(var e=0;e<this.state.clientData.contactos.length;e++)for(var t=0;t<this.state.emailSelecteds.length;t++)this.state.clientData.contactos[e].correo===this.state.emailSelecteds[t].correo&&this.state.clientData.contactos[e].nombre===this.state.emailSelecteds[t].nombre&&(this.state.clientData.contactos[e].enviar=!0)},clearFieldsValue:function(){for(var e=this.state.configSite.fields,t=0;t<e.length;t++)e[t].value=""},clearTicketSearch:function(){var e=Object.keys(this.state.ticketSearch);for(var t in e)"custparam_getinfo"!=e[t]&&(this.state.ticketSearch[e[t]]="")},clearParamsStamp:function(){var e=Object.keys(this.state.paramsStamp);for(var t in e)"custparam_genera"!=e[t]&&(this.state.ticketSearch[e[t]]="")},setFormatDate:function(e,t){this.state.ticketSearch[t.key]=t.newValue},changeDefaultValue:function(){this.state.configSite.customerForm["forma_pago"].default&&""!==this.state.configSite.customerForm["forma_pago"].default&&(this.state.clientData.cliente.forma_pago.value=this.state.configSite.customerForm["forma_pago"].default),this.state.configSite.customerForm["uso_cfdi"].default&&""!==this.state.configSite.customerForm["uso_cfdi"].default&&(this.state.clientData.cliente.uso_cfdi.value=this.state.configSite.customerForm["uso_cfdi"].default),this.state.configSite.customerForm["metodo_pago"].default&&""!==this.state.configSite.customerForm["metodo_pago"].default&&(this.state.clientData.cliente.metodo_pago.value=this.state.configSite.customerForm["metodo_pago"].default)}},modules:{}}),m=s("289d"),f=(s("5abe"),s("6c42")),h=(s("da96"),s("28dd"));i["a"].use(m["a"]),i["a"].use(h["a"]),i["a"].use(f["a"],{transition:"Vue-Toastification__fade",maxToasts:20,newestOnTop:!0}),i["a"].config.productionTip=!1,new i["a"]({router:u["a"],store:p,render:function(e){return e(_)}}).$mount("#app")},"581e":function(e,t,s){"use strict";s("6cd0")},"6cd0":function(e,t,s){},"7c9f":function(module,__webpack_exports__,__webpack_require__){"use strict";var C_Users_JAIR_HERNANDEZ_Documents_GitHub_Tekiio_Interno_KioskoFix_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("5530"),core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("e9c4"),core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_1__),vuex__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("2f62"),_components_messages_CustomMessage__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("f826"),axios__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("cee4");__webpack_exports__["a"]={name:"Ticket",computed:Object(C_Users_JAIR_HERNANDEZ_Documents_GitHub_Tekiio_Interno_KioskoFix_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__["a"])(Object(C_Users_JAIR_HERNANDEZ_Documents_GitHub_Tekiio_Interno_KioskoFix_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__["a"])({},Object(vuex__WEBPACK_IMPORTED_MODULE_2__["d"])(["messageTicket","statusRequestTicket","configSite","ticketSearch","step","action","clientData","startTimeLoading","startTimeLoadingClient"])),{},{local_action:{get:function(){return this.$store.getters.action},set:function(e){this.$store.dispatch("setMyActions",e)}}}),data:function(){return{modalPolicies:!1,modalExampleTicket:!1}},created:function(){console.log("Datos en ticket created:",this.configSite)},mounted:function(){console.log("Datos en ticket created:",this.configSite);var e=new Date,t=e-this.startTimeLoading;t>3e3&&(console.log("LOADING TIME TICKET: ",t),this.sendTime(t,e))},methods:Object(C_Users_JAIR_HERNANDEZ_Documents_GitHub_Tekiio_Interno_KioskoFix_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__["a"])(Object(C_Users_JAIR_HERNANDEZ_Documents_GitHub_Tekiio_Interno_KioskoFix_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__["a"])({sendTime:function sendTime(time,date){try{var objSendTime={custrecord_loading_url:window.location.href,custrecord_loading_date:date,custrecord_loading_time:time,custrecord_loading_step:"Ticket",custrecord_loading_status:this.statusRequestTicket,custrecord_loading_message:this.messageTicket},strObjSendTime=JSON.stringify(objSendTime),self=this;console.log("sendTime -self:",self);var str='\n                var httpsMode=null;\n                require(["N/https"],function(httpsMode){\n                    var url=httpsMode.requestSuitelet({\n                        scriptId:\'customscript_efx_fe_kioskopageload_sl\',\n                        deploymentId:"customdeploy_efx_fe_kioskopageload_sl",\n                        external:true,\n                        urlParams:{sendTime:\''.concat(strObjSendTime,'\'}\n                    });\n                    console.log("RESP time: ",url.data);\n                });\n            ');eval(str)}catch(err){console.log("An error occurred on SendTime() in Ticket")}},getSendTimeResponse:function(e){var t={method:"GET",url:e,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,OPTIONS","Access-Control-Allow-Headers":"authorization"}};axios__WEBPACK_IMPORTED_MODULE_4__["a"].request(t).then((function(e){console.log("RESP time: ",e.data)})).catch((function(e){console.log("Hubo errores: ",e)}))},checkPolitics:function(e){if(e.preventDefault(),this.configSite.politics.length){var t=!1,s=!1;for(var i in this.configSite.politics)switch(this.configSite.politics[i].type){case"1":var a=(new Date).getTime(),o=new Date(this.ticketSearch["custparam_trandate"]).getTime(),n=parseInt((a-o)/864e5);n<=this.configSite.politics[i].value&&(t=!0,s=!1);break;case"2":var c=new Date(this.configSite.politics[i].value).getTime(),r=new Date(this.ticketSearch["custparam_trandate"]).getTime();r>=c?t=!0:(t=!1,s=!0);break;case"3":var l=new Date(this.ticketSearch["custparam_trandate"]),_=new Date;l.getMonth()+1===_.getMonth()+1?t=!0:(t=!1,s=!1);break}!0===t?this.sendTicket():!0===s?this.$toast.info({component:_components_messages_CustomMessage__WEBPACK_IMPORTED_MODULE_3__["a"],props:{msg:this.configSite.messages.custom}},{position:"bottom-right",timeout:!1,closeOnClick:!1,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.$toast.error("Algo no anda bien.\n Por favor revisa nuestras politicas y verifica la información de tu ticket",{position:"bottom-right",timeout:1e4,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})}else this.sendTicket();this.setTicketDate(this.ticketSearch.custparam_trandate),this.ticketSearch.custparam_custbody_efx_iy_total_amount&&this.setTicketCantidad(this.ticketSearch.custparam_custbody_efx_iy_total_amount),this.ticketSearch.custparam_custbody_efx_iy_noticket&&this.setTicketId(this.ticketSearch.custparam_custbody_efx_iy_noticket),this.setTicketRfc(this.ticketSearch.custparam_custentity_mx_rfc)},sendTicket:function sendTicket(){this.setLoading(!0),!0===this.action?this.setFilterAction("T"):this.setFilterAction("F");var fields=this.configSite.fields;for(var i in fields)if("date"===fields[i].type){var dateSearch=new Date(this.ticketSearch["custparam_"+fields[i].fieldID]),month=dateSearch.getMonth()+1,day=dateSearch.getDate(),d=month+"/"+day+"/"+dateSearch.getFullYear();this.setFormatDate({key:"custparam_"+fields[i].fieldID,newValue:d})}""===this.ticketSearch.custparam_config&&this.setConfigParamSearch(this.configSite.id);var self=this;console.debug(self);var str="var httpsMode = null;";str+='require(["N/https"], function(httpsMode){',str+="var url = httpsMode.requestSuitelet({",str+='scriptId: "customscript_efx_fe_kiosko_connection_sl",',str+='deploymentId: "customdeploy_efx_fe_kiosko_connection_sl",',str+="external: true,",str+="urlParams: "+JSON.stringify(this.ticketSearch),str+="});",str+="let start=new Date();",str+="self.setStart(start);",str+="self.nextStep(JSON.parse(url.body));",str+="});",eval(str)},setStart:function(e){this.setStartTimeLoadingClient(e),this.setStartTimeLoadingStamp(e)},nextStep:function(e){this.setLoading(!1),!0===e.success?(this.setClientData(e),this.changeDefaultValue(),!0===e.transaccion.consulta&&""!=e.transaccion.uuid?(this.setAction(!1),this.setStep(3)):this.setStep(this.step+1)):!0===this.configSite.showMsgDetail?this.$toast.warning(this.configSite.messages.warning+"\n"+e.msg,{position:"bottom-right",timeout:1e4,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1}):this.$toast.warning(this.configSite.messages.warning,{position:"bottom-right",timeout:1e4,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})},showPolicies:function(){this.modalPolicies=!0},showTicketExample:function(){this.modalExampleTicket=!0},showError:function(e){this.setLoading(!1),console.error(e),this.$toast.error(this.configSite.messages.error,{position:"bottom-right",timeout:1e4,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})},changeDate:function(e,t){var s=new Date(t);this.setFormatDate({key:"custparam_"+e,newValue:s})},upperText:function(e,t){return"custentity_mx_rfc"===t&&(e=e.toUpperCase()),e}},Object(vuex__WEBPACK_IMPORTED_MODULE_2__["c"])(["setTicketId","setTicketDate","setTicketCantidad","setTicketRfc","setStep","setClientData","setLoading","setFilterAction","setAction","setConfigParamSearch","setStartTimeLoading","setStartTimeLoadingClient","setStartTimeLoadingStamp"])),Object(vuex__WEBPACK_IMPORTED_MODULE_2__["b"])(["setFormatDate","changeDefaultValue"]))}},"83c9":function(module,__webpack_exports__,__webpack_require__){"use strict";var C_Users_JAIR_HERNANDEZ_Documents_GitHub_Tekiio_Interno_KioskoFix_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("5530"),core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("e9c4"),core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("b64b"),core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("b0c0"),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_3__),vuex__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("2f62"),axios__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("cee4");__webpack_exports__["a"]={computed:Object(C_Users_JAIR_HERNANDEZ_Documents_GitHub_Tekiio_Interno_KioskoFix_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__["a"])(Object(C_Users_JAIR_HERNANDEZ_Documents_GitHub_Tekiio_Interno_KioskoFix_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__["a"])({},Object(vuex__WEBPACK_IMPORTED_MODULE_4__["d"])(["ticketId","ticketDate","ticketCantidad","ticketRfc","statusRequestClient","countries","billingInformation","clientData","step","emailSelecteds","configSite","startTimeLoadingClient","messageClient"])),{},{action:{get:function(){return this.$store.getters.action},set:function(e){this.$store.dispatch("setEmailsSelecteds",e)}},inputNombre:{get:function(){return this.clientData.cliente.nombre},set:function(e){this.clientData.cliente.nombre=e,this.clientData.cliente.razonSocial=(this.clientData.cliente.nombre+" "+this.clientData.cliente.apellido).toUpperCase()}},inputApellido:{get:function(){return this.clientData.cliente.apellido},set:function(e){this.clientData.cliente.apellido=e,this.clientData.cliente.razonSocial=(this.clientData.cliente.nombre+" "+this.clientData.cliente.apellido).toUpperCase()}},inputCompania:{get:function(){return this.clientData.cliente.compania},set:function(e){this.clientData.cliente.compania=e,this.clientData.cliente.razonSocial=this.clientData.cliente.compania.toUpperCase()}}}),beforeCreate:function(){},created:function(){this.getCountriesData(),this.getBillingInformation()},beforeMount:function(){var e=this.clientData.direccion.pais;console.log("regimen fiscal seleccionado 🤓:"+this.clientData.cliente.regFiscal.value),this.regimenFiscalCliente=this.clientData.cliente.regFiscal.value,e&&this.local_states.length&&(this.local_states=this.countries[e].states)},mounted:function(){this.styleText()},name:"Client",data:function(){return{targetObject:{},isPerson:!0,regimenFiscalCliente:{},emails:[],local_countries:[],local_states:[],local_data:{country:""},contact_local:{nombre:"",correo:""},txtEstilizado:""}},methods:Object(C_Users_JAIR_HERNANDEZ_Documents_GitHub_Tekiio_Interno_KioskoFix_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__["a"])(Object(C_Users_JAIR_HERNANDEZ_Documents_GitHub_Tekiio_Interno_KioskoFix_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__["a"])({sendTime:function sendTime(time,date){try{var objSendTime={custrecord_loading_url:window.location.href,custrecord_loading_date:date,custrecord_loading_time:time,custrecord_loading_step:"Cliente",custrecord_loading_status:this.statusRequestClient,custrecord_loading_message:this.messageClient,custrecord_loading_ticket_id:this.ticketId,custrecord_loading_ticket_date:this.ticketDate,custrecord_loading_ticket_cantidad:this.ticketCantidad,custrecord_loading_ticket_rfc:this.ticketRfc},strObjSendTime=JSON.stringify(objSendTime),self=this;console.log("sendTime -self:",self);var str="\n        var httpsMode=null;\n        require(['N/https'],function(httpsMode){\n          var url=httpsMode.requestSuitelet({\n                        scriptId:'customscript_efx_fe_kioskopageload_sl',\n                        deploymentId:\"customdeploy_efx_fe_kioskopageload_sl\",\n                        external:true,\n                        urlParams:{sendTime:'".concat(strObjSendTime,'\'}\n                    });\n                    console.log("RESP time: ", url.body);\n                });\n            ');eval(str)}catch(err){console.log("An error occurred on SendTime() in Ticket")}},getSendTimeResponse:function(e){var t={method:"GET",url:e,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,OPTIONS","Access-Control-Allow-Headers":"authorization"}};axios__WEBPACK_IMPORTED_MODULE_5__["a"].request(t).then((function(e){console.log("RESP time: ",e.data)})).catch((function(e){console.log("Hubo errores: ",e)}))},changeCountry:function(e){e&&(this.local_states=this.countries[e].states)},styleText:function(){var e=document.getElementById("customNote");e.innerHTML=this.configSite.altMsg.customNote,this.txtEstilizado=e},getCountriesData:function getCountriesData(){try{var self=this;console.log("entra a get Countries Data"),console.debug(self);var str="";str+="var httpsMode = null;",str+='require(["N/https"], function(httpsMode){',str+="var url = httpsMode.requestSuitelet({",str+='scriptId: "customscript_efx_kiosko_service_config",',str+='deploymentId: "customdeploy_efx_kiosko_service_config",',str+="external: true,",str+="body: {custparam_mode: 'getCountries'}",str+="});",str+="self.assingCountriesResult(JSON.parse(url.body));",str+="});",eval(str)}catch(err){console.error(err),this.setStatusRequestClient(!1),this.setMessageClient("Error al realizar petición para obtener listado de países")}},assingCountriesResult:function(e){if(!0===e.success){this.setAllCountries(e.results),this.setStatusRequestClient(!0),this.setMessageClient("Obtuvo listado de países con éxito");var t=Object.keys(this.countries);if(t.length>0)for(var s in t)this.local_countries.push({id:this.countries[t[s]].value,text:this.countries[t[s]].name});if(this.clientData.direccion.pais){var i=this.clientData.direccion.pais;i&&(this.local_states=this.countries[i].states)}}else this.setStatusRequestClient(!1),this.setMessageClient("Error al realizar búsqueda de países")},assingCountriesResultLocal:function(e){this.setAllCountries(e);var t=Object.keys(this.countries);if(t.length>0)for(var s in t)this.local_countries.push({id:this.countries[t[s]].value,text:this.countries[t[s]].name});if(this.clientData.direccion.pais){var i=this.clientData.direccion.pais;i&&(this.local_states=this.countries[i].states)}},getBillingInformation:function getBillingInformation(){try{var self=this;console.log("Entra a getBilling Information"),console.debug(self);var str="var httpsMode = null;";str+='require(["N/https"], function(httpsMode){',str+="var url = httpsMode.requestSuitelet({",str+='scriptId: "customscript_efx_kiosko_service_config",',str+='deploymentId: "customdeploy_efx_kiosko_service_config",',str+="external: true,",str+="body: {custparam_mode: 'getBillingData'}",str+="});",str+="self.assingBillingInfoResult(JSON.parse(url.body));",str+="});",eval(str)}catch(err){console.error(err),this.setStatusRequestClient(!1),this.setMessageClient("Error al realizar petición para obtener información de facturación")}},assingBillingInfoResult:function(e){if(!0===e.success){this.setBillingInformation(e.results);var t=new Date;console.log("Reprinted client time:",this.startTimeLoadingClient);var s=t-this.startTimeLoadingClient;console.log("LOADING TIME CLIENT:",s),this.setStatusRequestClient(!0),this.setMessageClient("Obtuvo información de facturación con éxito"),this.sendTime(s,t)}else this.setStatusRequestClient(!1),this.setMessageClient(e.details)},sendClient:function(e){e.preventDefault(),this.nextStep()},returnStep:function(){this.setClientData({}),this.clearTicketSearch(),this.setStep(null)},nextStep:function(){this.setStep(2);for(var e=0;e<this.billingInformation.industry_type.length;e++)this.billingInformation.industry_type[e].id==this.regimenFiscalCliente&&(this.targetObject=this.billingInformation.industry_type[e]);console.log("CLIENTE INGRESADO selected de variable:"+this.regimenFiscalCliente),console.log("CLIENTE INGRESADO selected de variable TEXT 🐢:"+JSON.stringify(this.targetObject)),this.$store.commit("setClientData_regimenFiscal_value",this.targetObject.id),this.$store.commit("setClientData_regimenFiscal_text",this.targetObject.value),console.log("CLIENTE INGRESADO:"+JSON.stringify(this.clientData.cliente));var t=new Date;this.setStartTimeLoadingResume(t)},addContact:function(){""!=this.contact_local.nombre&&""!=this.contact_local.correo?(this.setAddContact(JSON.parse(JSON.stringify(this.contact_local))),this.contact_local.nombre="",this.contact_local.correo=""):this.$toast.warning("Para agregar contactos debes llenar los campos de Email y Nombre>",{position:"bottom-right",timeout:1e4,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})},getLengthRFC:function(e){e?this.setTypePerson(13===e.length):this.setTypePerson(!0)}},Object(vuex__WEBPACK_IMPORTED_MODULE_4__["c"])(["setMessageClient","setStatusRequestClient","setAllCountries","setBillingInformation","setStep","setAddContact","setClientData","setTypePerson","setStartTimeLoadingResume"])),Object(vuex__WEBPACK_IMPORTED_MODULE_4__["b"])(["clearTicketSearch"]))}},"85d5":function(e,t,s){},"85ec":function(e,t,s){},"9a96":function(module,__webpack_exports__,__webpack_require__){"use strict";var C_Users_JAIR_HERNANDEZ_Documents_GitHub_Tekiio_Interno_KioskoFix_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("5530"),core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("b64b"),core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("e9c4"),core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("b0c0"),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_3__),epic_spinners_dist_lib_epic_spinners_min_css__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("fc86"),epic_spinners_dist_lib_epic_spinners_min_css__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(epic_spinners_dist_lib_epic_spinners_min_css__WEBPACK_IMPORTED_MODULE_4__),epic_spinners__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("4583"),_router__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("a18c"),vuex__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("2f62"),axios__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("cee4");__webpack_exports__["a"]={name:"Stamp",components:{HollowDotsSpinner:epic_spinners__WEBPACK_IMPORTED_MODULE_5__["a"]},computed:Object(C_Users_JAIR_HERNANDEZ_Documents_GitHub_Tekiio_Interno_KioskoFix_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__["a"])({},Object(vuex__WEBPACK_IMPORTED_MODULE_7__["d"])(["ticketId","ticketDate","ticketCantidad","ticketRfc","messageStamp","statusRequestStamp","clientData","paramsStamp","configSite","allConfigs","ticketSearch","startTimeLoadingStamp"])),data:function(){return{success:!0,response:null,msg_alt:""}},created:function(){},mounted:function(){if(Object.keys(this.clientData).length)if(!0===this.clientData.transaccion.consulta&&""!=this.clientData.transaccion.uuid){this.response=this.clientData.transaccion,this.success=!0;var e=new Date,t=e-this.startTimeLoadingStamp;console.log("LOADING TIME  STAMP:",t),this.setStatusRequestStamp(!0),this.setMessageStamp("Factura consultada con éxito"),this.sendTime(t,e)}else this.sendStamp()},methods:Object(C_Users_JAIR_HERNANDEZ_Documents_GitHub_Tekiio_Interno_KioskoFix_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__["a"])(Object(C_Users_JAIR_HERNANDEZ_Documents_GitHub_Tekiio_Interno_KioskoFix_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__["a"])({sendTime:function sendTime(time,date){try{var objSendTime={custrecord_loading_url:window.location.href,custrecord_loading_date:date,custrecord_loading_time:time,custrecord_loading_step:"Factura",custrecord_loading_status:this.statusRequestStamp,custrecord_loading_message:this.messageStamp,custrecord_loading_ticket_id:this.ticketId,custrecord_loading_ticket_date:this.ticketDate,custrecord_loading_ticket_cantidad:this.ticketCantidad,custrecord_loading_ticket_rfc:this.ticketRfc},strObjSendTime=JSON.stringify(objSendTime),self=this;console.log("sendTime -self:",self);var str="\n        var httpsMode=null;\n        require(['N/https'],function(httpsMode){\n          var url=httpsMode.requestSuitelet({\n                        scriptId:'customscript_efx_fe_kioskopageload_sl',\n                        deploymentId:\"customdeploy_efx_fe_kioskopageload_sl\",\n                        external:true,\n                        urlParams:{sendTime:'".concat(strObjSendTime,'\'}\n                    });\n                    console.log("RESP time: ", url.body);\n                });\n            ');eval(str)}catch(err){console.log("An error occurred on SendTime() in Ticket")}},getSendTimeResponse:function(e){var t={method:"GET",url:e,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,OPTIONS","Access-Control-Allow-Headers":"authorization"}};axios__WEBPACK_IMPORTED_MODULE_8__["a"].request(t).then((function(e){console.log("RESP time: ",e.data)})).catch((function(e){console.log("Hubo errores: ",e)}))},goExit:function(){this.setClientData({}),this.setEmails([]),this.setStep(0),this.clearFieldsValue(),this.clearTicketSearch(),this.clearParamsStamp(),this.allConfigs.length>1&&this.setConfigSite({});var e=new Date;this.setStartTimeLoading(e),_router__WEBPACK_IMPORTED_MODULE_6__["a"].push({name:"Pasos",params:{id:1}})},sendStamp:function sendStamp(){var objData=this.paramsStamp;console.log("OBJDATA PARAMSTAMP:",objData),console.log("OBJDATA CLIENTE:",this.clientData.cliente);var key=Object.keys(this.ticketSearch);for(var i in key)"custparam_getinfo"!=key[i]&&"custparam_accion"!=key[i]&&(objData[key[i]]=this.ticketSearch[key[i]]);var self=this,copyClient=JSON.stringify(this.clientData);console.debug(self);var str="var httpsMode = null;";str+='require(["N/https"], function(httpsMode){',str+="console.log('ENTRA A MANDAR REQUEST 🦕');var url = httpsMode.requestSuitelet.promise({",str+='scriptId: "customscript_efx_fe_kiosko_connection_sl",',str+='deploymentId: "customdeploy_efx_fe_kiosko_connection_sl",',str+="method:'POST',external: true,",str+="urlParams: "+JSON.stringify(objData),str+=",body: `"+copyClient+"`",str+="}).then(function (resp){console.log('RESPONSE OF STAMP:'+resp.body);self.processResultStamp(JSON.parse(resp.body));}).catch(function(reason){console.log('error in sendstamp',reason); self.catchError(reason.message);});",str+="});",eval(str)},processResultStamp:function(e){if(!0===e.success){this.success=!0,this.response=e;var t=new Date,s=t-this.startTimeLoadingStamp;console.log("LOADING TIME  STAMP:",s),this.setStatusRequestStamp(!0),this.setMessageStamp("Factura timbrada con éxito"),this.sendTime(s,t)}else{this.success=!1,this.response=0,this.msg_alt=e.respuestaPac;var i=new Date,a=i-this.startTimeLoadingStamp;console.log("LOADING TIME  STAMP on error:",a),this.setStatusRequestStamp(!1),this.setMessageStamp(e.respuestaPac),this.sendTime(a,i)}},catchError:function(e){this.success=!1,this.response=0;var t=new Date,s=t-this.startTimeLoadingStamp,i=JSON.parse(e);this.setStatusRequestStamp(!1),this.setMessageStamp(i.message),this.sendTime(s,t)},downloadPDF:function(){this.response.pdf&&(console.log(this.response),this.downloadItem("pdf",this.response.pdf))},downloadXML:function(){this.response.xml&&this.downloadItem("xml",this.response.xml)},downloadItem:function downloadItem(type,id){try{console.log("data in download",{type:type,id:id});var self=this;console.debug(self);var str="var httpsMode = null;";str+='require(["N/https"], function(httpsMode){',str+="var url = httpsMode.requestSuitelet({",str+='scriptId: "customscript_efx_kiosko_service_files",',str+='deploymentId: "customdeploy_efx_kiosko_service_files",',str+="external: true,",str+="urlParams: "+JSON.stringify({docType:type,docID:id}),str+="});",str+="console.log(url);",str+="self.openUrl(JSON.parse(url.body));",str+="});",eval(str)}catch(err){console.error(err)}},openUrl:function(e){var t=e.name,s=document.createElement("a");s.download=t,s.href=e.url,s.setAttribute("target","_blank"),document.body.appendChild(s),s.click(),document.body.removeChild(s)}},Object(vuex__WEBPACK_IMPORTED_MODULE_7__["c"])(["setMessageStamp","setStatusRequestStamp","setClientData","setEmails","setStep","setConfigSite","setStartTimeLoadingStamp","setStartTimeLoading"])),Object(vuex__WEBPACK_IMPORTED_MODULE_7__["b"])(["clearTicketSearch","clearParamsStamp","clearFieldsValue"]))}},a18c:function(e,t,s){"use strict";var i=s("2b0e"),a=s("8c4f"),o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"home"},[s("HomeComponent")],1)},n=[],c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"homeComponent"},[e.allConfigs.length>1?s("div",{staticClass:"container"},[s("h3",{staticClass:"has-text-centered title is-4"},[e._v("Bienvenido")]),s("hr"),s("p",[e._v("Selecciona la empresa con la que deseas facturar")]),s("hr"),s("div",{staticClass:"container"},[s("div",{staticClass:"columns is-desktop is-multiline"},e._l(e.allConfigs,(function(t){return s("div",{key:t.id,staticClass:"column is-3"},[s("div",{staticClass:"box",on:{click:function(s){return e.selectCompany(t.id)}}},[s("article",{staticClass:"media"},[s("div",{staticClass:"media-left"},[s("figure",{staticClass:"image is-64x64"},[s("img",{attrs:{src:t.logo,alt:"Logo"}})])]),s("div",{staticClass:"media-content"},[s("div",{staticClass:"content"},[s("p",[s("strong",[e._v(e._s(t.company))])])])])])])])})),0)])]):s("div",{staticClass:"container"},[s("section",[s("b-skeleton",{attrs:{width:"20%",animated:""}}),s("b-skeleton",{attrs:{width:"40%",animated:""}}),s("b-skeleton",{attrs:{width:"60%",animated:""}}),s("b-skeleton",{attrs:{width:"80%",animated:""}}),s("b-skeleton",{attrs:{animated:""}})],1)])])},r=[],l=s("5530"),_=s("2f62"),u={name:"HomeComponent",computed:Object(l["a"])({},Object(_["d"])(["allConfigs","configSite"])),created:function(){},mounted:function(){if(console.log("HomeComponent is triggered"),1===this.allConfigs.length){var e=this.allConfigs[0].id;this.setConfigParamSearch(e),Y.push({name:"Pasos",params:{id:e}})}},methods:Object(l["a"])({selectCompany:function(e){Y.push({name:"Pasos",params:{id:e}})}},Object(_["c"])(["setConfigParamSearch"]))},d=u,p=(s("581e"),s("2877")),m=Object(p["a"])(d,c,r,!1,null,"783c9192",null),f=m.exports,h={name:"Home",components:{HomeComponent:f}},g=h,b=Object(p["a"])(g,o,n,!1,null,null,null),C=b.exports,D=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"steps"},[s("b-steps",{attrs:{"icon-pack":"fas","mobile-mode":"compact","has-navigation":!1,type:"is-primary","destroy-on-hide":!0,size:"is-medium"},model:{value:e.step,callback:function(t){e.step=t},expression:"step"}},[s("hr"),s("b-step-item",{attrs:{label:"Ticket","icon-pack":"uil",icon:"uil-file-search-alt",clickable:!1}},[s("Ticket")],1),s("b-step-item",{attrs:{label:"Cliente",visible:e.action,"icon-pack":"uil",icon:"uil-user",clickable:!1}},[s("Client")],1),s("b-step-item",{attrs:{label:"Resumen",visible:e.action,"icon-pack":"uil",icon:"uil-file-check-alt",clickable:!1}},[s("Resume")],1),s("b-step-item",{attrs:{label:"Factura","icon-pack":"uil",icon:"uil-file-download-alt",clickable:!1}},[s("Stamp")],1)],1)],1)},v=[],E=(s("b64b"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ticket"},[s("div",{staticClass:"container"},[s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[s("ol",{attrs:{type:"1"}},e._l(e.configSite.fields,(function(t){return s("li",{key:t.id},[e._v(" "+e._s(t.rule)+" ")])})),0),e.configSite.altMsg?s("div",[e.configSite.altMsg.nDef?s("div",{staticClass:"note"},[s("div",{domProps:{innerHTML:e._s(e.configSite.altMsg.nDef)}})]):e._e()]):e._e(),s("br"),s("div",{staticClass:"has-text-centered mt-3"},[e.configSite.img_example&&""!=e.configSite.img_example?s("b-button",{staticClass:"mr-2",attrs:{type:"is-info is-light",size:"is-small"},on:{click:e.showTicketExample}},[e._v("Ejemplo de Ticket ")]):e._e(),e.configSite.politics&&0!=e.configSite.politics.length?s("b-button",{attrs:{type:"is-warning is-light",size:"is-small"},on:{click:e.showPolicies}},[e._v("Políticas de uso ")]):e._e()],1)]),s("div",{staticClass:"column"},[s("form",{attrs:{action:""},on:{submit:e.checkPolitics}},[s("b-field",{attrs:{label:"Acción","label-position":"on-border"}},[s("b-select",{attrs:{expanded:"",required:"","icon-pack":"fas",icon:"info-circle",placeholder:"Seleccione una opción"},model:{value:e.local_action,callback:function(t){e.local_action=t},expression:"local_action"}},[s("option",{attrs:{selected:""},domProps:{value:!0}},[e._v("Timbrar Factura")]),s("option",{domProps:{value:!1}},[e._v("Consulta de factura")])])],1),e._l(e.configSite.fields,(function(t){return s("b-field",{key:t.fieldID,attrs:{label:t.name,"label-position":"on-border"}},["date"!=t.type?s("b-input",{attrs:{type:t.type,"icon-pack":t.icon_pack,icon:t.icon,min:"0.0",step:"0.01",id:t.fieldID,required:""},on:{input:function(s){return e.ticketSearch["custparam_"+t.fieldID]=e.upperText(s,t.fieldID)}},model:{value:e.ticketSearch["custparam_"+t.fieldID],callback:function(s){e.$set(e.ticketSearch,"custparam_"+t.fieldID,s)},expression:"ticketSearch['custparam_' + field.fieldID]"}}):e._e(),"date"===t.type?s("b-datepicker",{attrs:{"icon-pack":""!=t.icon_pack?t.icon_pack:"fas",icon:t.icon,"icon-next":""!=t.icon_pack&&"far"===t.icon_pack?"caret-square-right":"chevron-right","icon-prev":""!=t.icon_pack&&"far"===t.icon_pack?"caret-square-left":"chevron-left",id:t.fieldID,"first-day-of-week":1,"v-model":Date.parse(e.ticketSearch["custparam_"+t.fieldID]),locale:"es-MX",editable:"",required:"","date-formatter":function(e){return new Intl.DateTimeFormat("es-MX").format(new Date(e))},"date-parser":function(e){new Date(Date.parse(e))},"date-creator":function(){return new Date}},on:{input:function(s){return e.changeDate(t.fieldID,s)}}}):e._e()],1)})),s("hr"),s("b-button",{staticClass:"mb-5",attrs:{type:"is-primary","icon-pack":"fas","icon-right":"search","native-type":"submit",expanded:""}},[e._v(" Buscar ")])],2)])]),s("b-modal",{attrs:{"has-modal-card":"","trap-focus":"","destroy-on-hide":!1,"aria-role":"dialog","aria-modal":""},model:{value:e.modalPolicies,callback:function(t){e.modalPolicies=t},expression:"modalPolicies"}},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-content"},[s("div",{staticClass:"content"},[e.configSite.politics&&e.configSite.politics.length>0?s("section",[s("div",{staticClass:"columns is-desktop"},[s("div",{staticClass:"column is-three-fifths is-offset-one-fifth"},[s("ol",{attrs:{type:"I"}},e._l(e.configSite.politics,(function(t){return s("li",{key:t.id},[s("div",{domProps:{innerHTML:e._s(t.label)}})])})),0)])])]):e._e()])])])]),s("b-modal",{attrs:{"trap-focus":"","destroy-on-hide":!1,width:500,"can-cancel":["escape","outside"]},model:{value:e.modalExampleTicket,callback:function(t){e.modalExampleTicket=t},expression:"modalExampleTicket"}},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-image"},[s("figure",{staticClass:"image"},[s("img",{attrs:{src:e.configSite.img_example,alt:"Image"}})])])])])],1)])}),k=[],S=s("7c9f"),T=S["a"],O=Object(p["a"])(T,E,k,!1,null,"ae0e036c",null),P=O.exports,M=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"client"},[e.configSite.altMsg.displayCustom?s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[s("b-message",{attrs:{type:"is-info","has-icon":"","icon-pack":"fas","auto-close":!1}},[s("div",{attrs:{id:"customNote"}},[e._v(" "+e._s(e.txtEstilizado)+" ")])])],1)]):e._e(),s("form",{attrs:{action:""},on:{submit:e.sendClient}},[s("article",{staticClass:"panel"},[s("p",{staticClass:"panel-heading"},[e._v("Información General")]),s("div",{staticClass:"panel-content"},[s("div",{staticClass:"columns is-desktop container"},[s("div",{staticClass:"column is-2"},[s("b-field",{attrs:{label:"R.F.C.","label-position":"on-border",expanded:""}},[s("b-input",{attrs:{value:"",type:"text",required:"",change:e.getLengthRFC(e.clientData.cliente.rfc),maxlength:"13",disabled:""},model:{value:e.clientData.cliente.rfc,callback:function(t){e.$set(e.clientData.cliente,"rfc",t)},expression:"clientData.cliente.rfc"}})],1)],1),s("div",{staticClass:"column is-2"},[s("b-field",{attrs:{label:"Tipo de persona","label-position":"on-border",expanded:""}},[s("section",{staticStyle:{"padding-top":"1rem"}},[s("div",{staticClass:"block"},[s("b-radio",{attrs:{name:"person","native-value":!0,required:"",disabled:!0},model:{value:e.clientData.cliente.tipo,callback:function(t){e.$set(e.clientData.cliente,"tipo",t)},expression:"clientData.cliente.tipo"}},[e._v(" Física ")]),s("b-radio",{attrs:{name:"person","native-value":!1,required:"",disabled:!0},model:{value:e.clientData.cliente.tipo,callback:function(t){e.$set(e.clientData.cliente,"tipo",t)},expression:"clientData.cliente.tipo"}},[e._v(" Moral ")])],1)])])],1),e.clientData.cliente.tipo&&!e.clientData.cliente.existe?s("div",{staticClass:"column is-2"},[e.clientData.cliente.tipo?s("b-field",{attrs:{label:"Nombre (s)","label-position":"on-border",expanded:""}},[s("b-input",{attrs:{value:"",type:"text",required:""},model:{value:e.inputNombre,callback:function(t){e.inputNombre=t},expression:"inputNombre"}})],1):e._e()],1):e._e(),e.clientData.cliente.tipo&&!e.clientData.cliente.existe?s("div",{staticClass:"column is-2"},[e.clientData.cliente.tipo?s("b-field",{attrs:{label:"Apellidos","label-position":"on-border",expanded:""}},[s("b-input",{attrs:{value:"",type:"text",required:""},model:{value:e.inputApellido,callback:function(t){e.inputApellido=t},expression:"inputApellido"}})],1):e._e()],1):e._e(),e.clientData.cliente.tipo||e.clientData.cliente.existe?e._e():s("div",{staticClass:"column is-4"},[e.clientData.cliente.tipo?e._e():s("b-field",{attrs:{label:"Compañia","label-position":"on-border",expanded:""}},[s("b-input",{attrs:{value:"",type:"text",required:""},model:{value:e.inputCompania,callback:function(t){e.inputCompania=t},expression:"inputCompania"}})],1)],1),s("div",{staticClass:"column is-4"},[s("b-field",{attrs:{label:"Razón Social a Facturar","label-position":"on-border",expanded:""}},[s("b-input",{attrs:{value:"",type:"text",required:""},model:{value:e.clientData.cliente.razonSocial,callback:function(t){e.$set(e.clientData.cliente,"razonSocial",t)},expression:"clientData.cliente.razonSocial"}})],1)],1)])]),s("div",{staticClass:"panel-content"},[s("div",{staticClass:"columns is-desktop container"},[s("div",{staticClass:"column",class:{"is-3":!0===e.configSite.ieps,"is-4":!1===e.configSite.ieps}},[s("b-field",{attrs:{label:"Uso de CFDI","label-position":"on-border",expanded:""}},[s("b-select",e._b({attrs:{placeholder:"Seleccione uno",expanded:""},model:{value:e.clientData.cliente.uso_cfdi.value,callback:function(t){e.$set(e.clientData.cliente.uso_cfdi,"value",t)},expression:"clientData.cliente.uso_cfdi.value"}},"b-select",{required:e.configSite.customerForm["uso_cfdi"].required,disabled:e.configSite.customerForm["uso_cfdi"].disabled},!1),e._l(e.billingInformation.uso_cfdi,(function(t){return s("option",{key:t.id,domProps:{value:t.id}},[e._v(" "+e._s(t.value)+" ")])})),0)],1)],1),s("div",{staticClass:"column",class:{"is-3":!0===e.configSite.ieps,"is-4":!1===e.configSite.ieps}},[s("b-field",{attrs:{label:"Método de Pago","label-position":"on-border",expanded:""}},[s("b-select",e._b({attrs:{placeholder:"Seleccione uno",expanded:""},model:{value:e.clientData.cliente.metodo_pago.value,callback:function(t){e.$set(e.clientData.cliente.metodo_pago,"value",t)},expression:"clientData.cliente.metodo_pago.value"}},"b-select",{required:e.configSite.customerForm["metodo_pago"].required,disabled:e.configSite.customerForm["metodo_pago"].disabled},!1),e._l(e.billingInformation.paymt_method,(function(t){return s("option",{key:t.id,domProps:{value:t.id}},[e._v(" "+e._s(t.value)+" ")])})),0)],1)],1),s("div",{staticClass:"column",class:{"is-3":!0===e.configSite.ieps,"is-4":!1===e.configSite.ieps}},[s("b-field",{attrs:{label:"Forma de Pago","label-position":"on-border",expanded:""}},[s("b-select",e._b({attrs:{placeholder:"Seleccione uno",expanded:""},model:{value:e.clientData.cliente.forma_pago.value,callback:function(t){e.$set(e.clientData.cliente.forma_pago,"value",t)},expression:"clientData.cliente.forma_pago.value"}},"b-select",{required:e.configSite.customerForm["forma_pago"].required,disabled:e.configSite.customerForm["forma_pago"].disabled},!1),e._l(e.billingInformation.paymt_term,(function(t){return s("option",{key:t.id,domProps:{value:t.id}},[e._v(" "+e._s(t.value)+" ")])})),0)],1)],1),!0===e.configSite.ieps?s("div",{staticClass:"column",class:{"is-3":!0===e.configSite.ieps,"is-4":!1===e.configSite.ieps}},[s("b-field",{attrs:{expanded:""}},[s("b-checkbox",{model:{value:e.clientData.cliente.ieps,callback:function(t){e.$set(e.clientData.cliente,"ieps",t)},expression:"clientData.cliente.ieps"}},[e._v("Desglose de IEPS")])],1)],1):e._e()])]),s("div",{staticClass:"panel-content"},[s("div",{staticClass:"columns is-desktop container"},[s("div",{staticClass:"column is-4"},[s("b-field",{attrs:{label:"Regimen Fiscal","label-position":"on-border",expanded:""}},[s("b-select",{attrs:{placeholder:"Seleccione uno",expanded:"",required:""},model:{value:e.regimenFiscalCliente,callback:function(t){e.regimenFiscalCliente=t},expression:"regimenFiscalCliente"}},e._l(e.billingInformation.industry_type,(function(t){return s("option",{key:t.id,domProps:{value:t.id}},[e._v(" "+e._s(t.value)+" ")])})),0)],1)],1)])])]),s("article",{staticClass:"panel"},[s("p",{staticClass:"panel-heading"},[e._v("Dirección")]),s("div",{staticClass:"panel-content"},[s("div",{staticClass:"columns is-desktop container"},[s("div",{staticClass:"column is-5"},[s("b-field",{attrs:{label:"Calle","label-position":"on-border",expanded:""}},[s("b-input",{attrs:{value:"",type:"text",required:""},model:{value:e.clientData.direccion.calle,callback:function(t){e.$set(e.clientData.direccion,"calle",t)},expression:"clientData.direccion.calle"}})],1)],1),s("div",{staticClass:"column is-2"},[s("b-field",{attrs:{label:"No. Exterior","label-position":"on-border",expanded:""}},[s("b-input",{attrs:{value:"",type:"text",min:"0",required:""},model:{value:e.clientData.direccion.n_exterior,callback:function(t){e.$set(e.clientData.direccion,"n_exterior",t)},expression:"clientData.direccion.n_exterior"}})],1)],1),s("div",{staticClass:"column is-2"},[s("b-field",{attrs:{label:"No. Interior","label-position":"on-border",expanded:""}},[s("b-input",{attrs:{value:"",type:"text",min:"0"},model:{value:e.clientData.direccion.n_interior,callback:function(t){e.$set(e.clientData.direccion,"n_interior",t)},expression:"clientData.direccion.n_interior"}})],1)],1),s("div",{staticClass:"column is-3"},[s("b-field",{attrs:{label:"C.P.","label-position":"on-border",expanded:""}},[s("b-input",{attrs:{value:"",type:"text",required:""},model:{value:e.clientData.direccion.cp,callback:function(t){e.$set(e.clientData.direccion,"cp",t)},expression:"clientData.direccion.cp"}})],1)],1)])]),s("div",{staticClass:"panel-content"},[s("div",{staticClass:"columns is-desktop container"},[s("div",{staticClass:"column is-3"},[s("b-field",{attrs:{label:"Pais","label-position":"on-border",expanded:""}},[s("b-select",{attrs:{placeholder:"Seleccione uno",expanded:"",required:""},on:{input:e.changeCountry},model:{value:e.clientData.direccion.pais,callback:function(t){e.$set(e.clientData.direccion,"pais",t)},expression:"clientData.direccion.pais"}},e._l(e.local_countries,(function(t){return s("option",{key:t.id,domProps:{value:t.id}},[e._v(" "+e._s(t.text)+" ")])})),0)],1)],1),s("div",{staticClass:"column is-3"},[s("b-field",{attrs:{label:"Estado","label-position":"on-border",expanded:""}},[s("b-select",{attrs:{placeholder:"Seleccione uno",expanded:"",required:""},model:{value:e.clientData.direccion.estado,callback:function(t){e.$set(e.clientData.direccion,"estado",t)},expression:"clientData.direccion.estado"}},e._l(e.local_states,(function(t){return s("option",{key:t.id,domProps:{value:t.value}},[e._v(" "+e._s(t.name)+" ")])})),0)],1)],1),s("div",{staticClass:"column is-3"},[s("b-field",{attrs:{label:"Municipio","label-position":"on-border",expanded:""}},[s("b-input",{attrs:{type:"text",expanded:"",required:""},model:{value:e.clientData.direccion.municipio,callback:function(t){e.$set(e.clientData.direccion,"municipio",t)},expression:"clientData.direccion.municipio"}})],1)],1),s("div",{staticClass:"column is-3"},[s("b-field",{attrs:{label:"Colonia","label-position":"on-border",expanded:""}},[s("b-input",{attrs:{type:"text",expanded:"",required:""},model:{value:e.clientData.direccion.colonia,callback:function(t){e.$set(e.clientData.direccion,"colonia",t)},expression:"clientData.direccion.colonia"}})],1)],1)])])]),s("article",{staticClass:"panel"},[s("p",{staticClass:"panel-heading"},[e._v("Contacto")]),s("div",{staticClass:"panel-content"},[s("div",{staticClass:"columns is-desktop container"},[s("div",{staticClass:"column is-6"},[s("b-field",{attrs:{label:"Nombre","label-position":"on-border",expanded:""}},[s("b-input",{attrs:{type:"text",expanded:""},model:{value:e.contact_local.nombre,callback:function(t){e.$set(e.contact_local,"nombre",t)},expression:"contact_local.nombre"}})],1)],1),s("div",{staticClass:"column is-6"},[s("b-field",{attrs:{label:"Email","label-position":"on-border",expanded:""}},[s("b-input",{attrs:{type:"email",expanded:""},model:{value:e.contact_local.correo,callback:function(t){e.$set(e.contact_local,"correo",t)},expression:"contact_local.correo"}}),s("p",{staticClass:"control"},[s("b-button",{attrs:{type:"is-primary","icon-pack":"fas","icon-right":"plus"},on:{click:e.addContact}})],1)],1)],1)])]),s("div",{staticClass:"panel-content"},[s("div",{staticClass:"columns is-desktop container"},[s("div",{staticClass:"column"},[s("b-field",{attrs:{label:"Emails","label-position":"on-border",expanded:""}},[s("b-select",{attrs:{multiple:"",expanded:"",required:"","native-size":"3"},model:{value:e.action,callback:function(t){e.action=t},expression:"action"}},e._l(e.clientData.contactos,(function(t){return s("option",{key:t.correo,domProps:{value:t}},[e._v(" "+e._s(t.nombre)+" - "+e._s(t.correo)+" ")])})),0)],1)],1)])])]),s("div",{staticClass:"columns is-desktop"},[s("div",{staticClass:"column is-6"},[s("b-button",{attrs:{type:"is-danger",expanded:"","icon-left":"arrow-left","icon-pack":"fas",label:"Regresar",outlined:""},on:{click:e.returnStep}})],1),s("div",{staticClass:"column is-6"},[s("b-button",{attrs:{type:"is-primary",expanded:"","icon-right":"arrow-right","icon-pack":"fas",label:"Continuar","native-type":"submit"}})],1)])]),s("br")])},x=[],R=s("83c9"),y=R["a"],I=(s("c97b"),Object(p["a"])(y,M,x,!1,null,"156044ea",null)),j=I.exports,A=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"resume"},[s("form",{attrs:{action:""},on:{submit:e.sendStamp}},[s("article",{staticClass:"panel"},[s("div",{staticClass:"panel-content"},[s("div",{staticClass:"container"},[s("div",{staticClass:"columns is-desktop"},[s("div",{staticClass:"column is-three-fifths is-offset-one-fifth"},[s("section",[s("b-field",{attrs:{horizontal:"",label:"Ticket"}},[s("b-input",{staticClass:"has-text-",attrs:{name:"ticket",disabled:"",type:"text",value:e.clientData.transaccion.transName}})],1),s("b-field",{attrs:{horizontal:"",label:"Razón Social a Facturar"}},[s("b-input",{staticClass:"has-text-",attrs:{name:"cliente",disabled:"",type:"text",value:e.clientData.cliente.razonSocial}})],1),s("b-field",{attrs:{horizontal:"",label:"R.F.C."}},[s("b-input",{staticClass:"has-text-",attrs:{name:"rfc",disabled:"",type:"text",value:e.clientData.cliente.rfc}})],1),s("b-field",{attrs:{horizontal:"",label:"Total"}},[s("b-input",{staticClass:"has-text-",attrs:{name:"total",disabled:"",type:"text",value:e.clientData.transaccion.amount}})],1),s("b-field",{attrs:{horizontal:"",label:"Contactos de envío"}},[s("b-select",{staticClass:"has-text-",attrs:{multiple:"",expanded:"","native-size":"3",disabled:""}},e._l(e.emailSelecteds,(function(t){return s("option",{key:t.correo,attrs:{selected:""},domProps:{value:t.correo}},[e._v(" "+e._s(t.nombre)+" - "+e._s(t.correo)+" ")])})),0)],1)],1)])])])])]),s("div",{staticClass:"columns is-desktop"},[s("div",{staticClass:"column is-6"},[s("b-button",{attrs:{type:"is-danger",expanded:"","icon-left":"arrow-left","icon-pack":"fas",label:"Regresar",outlined:""},on:{click:e.returnStep}})],1),s("div",{staticClass:"column is-6"},[s("b-button",{attrs:{type:"is-primary",expanded:"","icon-right":"arrow-right","icon-pack":"fas",label:"Continuar","native-type":"submit"}})],1)])])])},L=[],w=s("c4da"),q=w["a"],U=(s("ad3e"),Object(p["a"])(q,A,L,!1,null,"151c358e",null)),B=U.exports,K=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"stamp"},[s("article",{staticClass:"panel"},[s("div",{staticClass:"panel-content"},[null===e.response?s("div",{staticClass:"columns"},[s("div",{staticClass:"column has-text-centered"},[s("b-progress",{attrs:{type:"is-primary"}}),s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-half is-offset-one-quarter"},[s("section",[s("small",[e._v("Su factura se esta generando")]),s("div",{staticClass:"is-inline-flex"},[s("HollowDotsSpinner",{attrs:{"animation-duration":1e3,"dot-size":8,"dots-num":3,color:"#212121"}})],1)])])])],1)]):s("div",{staticClass:"content"},[s("div",{staticClass:"columns is-desktop"},[s("div",{staticClass:"column is-half is-offset-one-quarter"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-content"},[s("div",{staticClass:"media"},[s("div",{staticClass:"media-content has-text-centered"},[!0===e.success?s("b-icon",{staticClass:"m-4 p-4",attrs:{"custom-size":"fa-4x",icon:"check-circle",pack:"far",type:"is-success"}}):s("b-icon",{staticClass:"m-4 p-4",attrs:{"custom-size":"fa-4x",icon:"times-circle",pack:"far",type:"is-danger"}})],1)]),s("div",{staticClass:"content has-text-centered"},[!0===e.success?s("div",[s("p",[e._v(e._s(e.configSite.messages.successStamp))]),s("hr"),s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-6"},[s("b-button",{attrs:{type:"is-link is-light","icon-right":"file-pdf","icon-pack":"far",label:"Descargar PDF"},on:{click:e.downloadPDF}})],1),s("div",{staticClass:"column is-6"},[s("b-button",{attrs:{type:"is-link is-light","icon-right":"file-code","icon-pack":"far",label:"Descargar XML"},on:{click:e.downloadXML}})],1)])]):s("div",[s("p",[e._v(e._s(e.configSite.messages.errorStamp))]),e.msg_alt?s("div",[s("br"),s("p",[s("b",[e._v(e._s(e.msg_alt))])])]):e._e()])])])])])]),s("div",{staticClass:"columns is-desktop"},[s("div",{staticClass:"column is-half is-offset-one-quarter"},[s("b-button",{attrs:{type:"is-success",label:"Salir",expanded:""},on:{click:e.goExit}})],1)])])])])])},N=[],W=s("9a96"),F=W["a"],H=Object(p["a"])(F,K,N,!1,null,"72c6b6ee",null),J=H.exports,G={name:"Steps",components:{Stamp:J,Resume:B,Client:j,Ticket:P},computed:Object(l["a"])({},Object(_["d"])(["action","allConfigs","step","configSite","ticketSearch"])),created:function(){if(this.allConfigs.length>0){for(var e=Y.currentRoute.params.id,t=0;t<this.allConfigs.length;t++)this.allConfigs[t].id===e&&(this.setConfigSite(this.allConfigs[t]),this.setConfigParamSearch(e));if(Object.keys(this.configSite).length){if(2===Object.keys(this.ticketSearch).length)for(var s in this.configSite.fields)this.addFilterSearch({name:"custparam_"+this.configSite.fields[s].fieldID,type:this.configSite.fields[s].type});if(this.configSite.css&&""!=this.configSite.css){var i=document.getElementsByTagName("body")[0],a=document.createElement("link");a.rel="stylesheet",a.type="text/css",a.id="maincss",a.href=this.configSite.css,a.media="all",i.appendChild(a)}}}else Y.push({path:"/"})},data:function(){return{}},methods:Object(l["a"])({},Object(_["c"])(["setAction","setConfigSite","addFilterSearch","setConfigParamSearch"]))},$=G,z=(s("bffe"),Object(p["a"])($,D,v,!1,null,"67a97651",null)),Z=z.exports;i["a"].use(a["a"]);var V=[{path:"/",name:"Inicio",component:C},{path:"/steps/:id",name:"Pasos",component:Z}],X=new a["a"]({routes:V}),Y=t["a"]=X},ad3e:function(e,t,s){"use strict";s("85d5")},bffe:function(e,t,s){"use strict";s("c405")},c405:function(e,t,s){},c4da:function(module,__webpack_exports__,__webpack_require__){"use strict";var C_Users_JAIR_HERNANDEZ_Documents_GitHub_Tekiio_Interno_KioskoFix_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("5530"),core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("e9c4"),core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_1__),vuex__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("2f62"),axios__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("cee4");__webpack_exports__["a"]={name:"Resume",computed:Object(C_Users_JAIR_HERNANDEZ_Documents_GitHub_Tekiio_Interno_KioskoFix_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__["a"])({},Object(vuex__WEBPACK_IMPORTED_MODULE_2__["d"])(["ticketId","ticketDate","ticketCantidad","ticketRfc","messageResume","statusRequestResume","clientData","ticketSearch","emailSelecteds","step","startTimeLoadingResume"])),created:function(){},mounted:function(){var e=new Date,t=e-this.startTimeLoadingResume;console.log("LOADING TIME RESUMEN: ",t),this.sendTime(t,e)},data:function(){return{emails:[]}},methods:Object(C_Users_JAIR_HERNANDEZ_Documents_GitHub_Tekiio_Interno_KioskoFix_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__["a"])(Object(C_Users_JAIR_HERNANDEZ_Documents_GitHub_Tekiio_Interno_KioskoFix_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__["a"])({sendTime:function sendTime(time,date){try{var objSendTime={custrecord_loading_url:window.location.href,custrecord_loading_date:date,custrecord_loading_time:time,custrecord_loading_step:"Resumen",custrecord_loading_status:this.statusRequestResume,custrecord_loading_message:this.messageResume,custrecord_loading_ticket_id:this.ticketId,custrecord_loading_ticket_date:this.ticketDate,custrecord_loading_ticket_cantidad:this.ticketCantidad,custrecord_loading_ticket_rfc:this.ticketRfc},strObjSendTime=JSON.stringify(objSendTime),self=this;console.log("sendTime -self:",self);var str='\n                var httpsMode=null;\n                require(["N/https"],function(httpsMode){\n                    var url=httpsMode.requestSuitelet({\n                        scriptId:\'customscript_efx_fe_kioskopageload_sl\',\n                        deploymentId:"customdeploy_efx_fe_kioskopageload_sl",\n                        external:true,\n                        urlParams:{sendTime:\''.concat(strObjSendTime,'\'}\n                    });\n                    console.log("RESP time: ", url.body);\n                });\n            ');eval(str)}catch(err){console.log("An error occurred on SendTime() in Ticket")}},getSendTimeResponse:function(e){var t={method:"GET",url:e,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,OPTIONS","Access-Control-Allow-Headers":"authorization"}};axios__WEBPACK_IMPORTED_MODULE_3__["a"].request(t).then((function(e){console.log("RESP time: ",e.data)})).catch((function(e){console.log("Hubo errores: ",e)}))},sendStamp:function(e){e.preventDefault(),this.setEmailSelected(),this.setStep(this.step+1);var t=new Date;this.setStartTimeLoadingStamp(t)},returnStep:function(){this.setStep(this.step-1)}},Object(vuex__WEBPACK_IMPORTED_MODULE_2__["c"])(["setStatusRequestResume","setStep","setStartTimeLoadingResume","setStartTimeLoadingStamp"])),Object(vuex__WEBPACK_IMPORTED_MODULE_2__["b"])(["setEmailSelected"]))}},c97b:function(e,t,s){"use strict";s("0219")},f826:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("div",{domProps:{innerHTML:e._s(e.msg)}})])},a=[],o={name:"CustomMessage",props:{msg:String}},n=o,c=s("2877"),r=Object(c["a"])(n,i,a,!1,null,"53ee1b1e",null);t["a"]=r.exports}});
//# sourceMappingURL=app.bbb04267.js.map